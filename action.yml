# action.yml
name: 'Update grades in repository'
description: 'Update grades in educational repository'
inputs:
  github-token:  
    description: 'Github token'
    required: true
    default: "${{ github.token }}"
  repository-name:
    description: 'Full name of repo. Format.: <owner>/<name of repo>'
    required: true
    default: ${{ github.event.repository.full_name }}
  update-google-table:
    description: 'Whether or not to update grades in google table'
    required: true
    default: false

branding:
  icon: 'book'  
  color: 'gray-dark'

runs:
  using: 'composite'
  steps:
    - run: echo "There should be script for updating grades"
      shell: bash
    - run: docker run --pull=always --rm --network=host -v ${PR_BOT_CONFIG_PATH}:/config mirrin/moevm-pull-requests-checker:latest python3.8 update_google_table_pull_requests.py /config ${{ inputs.repository-name }} ${{ inputs.github-token }}
      shell: bash
